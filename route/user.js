const router=require("express").Router()
const {isAuth}=require("../middleware/isAuth")
const {isAdmin}=require("../middleware/isAdmin")
const {getUsers, getUser, createUser, updateUser, deleteUser, loginUser, changeUserType}=require("../controller/user")
router.get("/", getUsers)
router.get("/:id", getUser)
router.post("/", createUser)
router.post("/login", loginUser)
router.put("/:id", isAuth, updateUser)
router.delete("/:id", isAuth, deleteUser)
router.patch("/:id", isAuth, isAdmin, changeUserType)
module.exports=router